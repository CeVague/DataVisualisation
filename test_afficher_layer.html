<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title>Add a GeoJSON polygon</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='./data/mapbox-gl.js'></script>
    <link href='./data/mapbox-gl.css' rel='stylesheet' />
    <style>
        body { margin:0; padding:0; }
        #map { position:absolute; bottom:0; width:100%; height:90%;}
    </style>
</head>
<body>
<div>
	<!-- input id="mon_pays" type="text" -->
	<input type="button" name="bouton" value='Masquer Layer' onclick="tracer_polygon(document.getElementById('mon_pays').value, '#088')">
</div>
<div id='map'></div>


<script src="./data/Pays.json"></script>
<script>
mapboxgl.accessToken = 'pk.eyJ1IjoidGhpZWRvMTYiLCJhIjoiY2ptdzF2ejIxMGZ1ZzN3cXZpbGF4MW5hMCJ9.Tnwnv4MHIuA5bkA9swtC7Q';
var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/mapbox/streets-v9',
    center: [-68.13734351262877, 45.137451890638886],
    zoom: 5
});

// var json_polygon = require('./Algerie.json');

map.on('load', function () {
	
	for (var key in all_json_polygon)
	{
		var value = all_json_polygon[key];
			
			map.addLayer({
				'id': key,
				'type': 'fill',
				'source': {
					'type': 'geojson',
					'data': {
						'type': 'Feature',
						'geometry': {
							'type': 'Polygon',
							'coordinates': value
						}
					}
				},
				'layout': {
					'visibility': 'visible'
					},
				'paint': {
					'fill-color': '#088',
					'fill-opacity': 0.8
				}
			});
	}
});

function tracer_polygon(country,color) {

		
	for (var key in all_json_polygon)
	{
		var value = all_json_polygon[key];
			
			if (value!=country) {
				map.setLayoutProperty(key, 'visibility', 'none');
			}
		
	}

};
</script>

</body>
</html>
